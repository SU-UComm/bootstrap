@import "_less.less";

.flex-grid-container {
  @_flex-gutter: 16px;
  @_flex-gutter--half: (@_flex-gutter / 2);

  display: flex;
  flex-flow: row wrap;
  justify-content: center;
  align-items: flex-start;
  align-content: flex-start;
  min-height: 200px;

  @media (min-width: @screen-sm-min) {
    margin-left:  -@_flex-gutter--half;
    margin-right: -@_flex-gutter--half;
  }

  &.flex-grid-container--equal-height {
    align-items: stretch;
  }

  .flex-grid__item {
    flex: 0 0 auto;
    margin-bottom: (@_flex-gutter + 1px);
    width: 100%;
    margin-left:  @_flex-gutter--half;
    margin-right: @_flex-gutter--half;
  }
  &.flex-grid-container--columns-5 {
    @media (min-width: @screen-sm-min) and (max-width: @screen-sm-max) {
      .flex-grid__item {
        max-width: ~"calc( 33.33% - @{_flex-gutter} )"; // 3-up
      }
    }
    @media (min-width: @screen-md-min) and (max-width: @screen-md-max) {
      .flex-grid__item {
        max-width: ~"calc( 25% - @{_flex-gutter} )"; // 4-up
      }
    }
    @media (min-width: @screen-lg-min) {
      .flex-grid__item {
        max-width: ~"calc( 20% - @{_flex-gutter} )"; // 5-up
      }
    }
  }
  &.flex-grid-container--columns-4 {
    @media (min-width: @screen-sm-min) and (max-width: @screen-sm-max) {
      .flex-grid__item {
        max-width: ~"calc( 50% - @{_flex-gutter} )"; // 2-up
      }
    }
    @media (min-width: @screen-md-min) and (max-width: @screen-md-max) {
      .flex-grid__item {
        max-width: ~"calc( 33.33% - @{_flex-gutter} )"; // 3-up
      }
    }
    @media (min-width: @screen-lg-min) {
      .flex-grid__item {
        max-width: ~"calc( 25% - @{_flex-gutter} )"; // 4-up
      }
    }
  }
  &.flex-grid-container--columns-3 {
    @media (min-width: @screen-sm-min) and (max-width: @screen-sm-max) {
      .flex-grid__item {
        max-width: ~"calc( 50% - @{_flex-gutter} )"; // 2-up
      }
    }
    @media (min-width: @screen-md-min) {
      .flex-grid__item {
        max-width: ~"calc( 33.33% - @{_flex-gutter} )"; // 3-up
      }
    }
  }
  &.flex-grid-container--columns-2 {
    @media (min-width: @screen-sm-min) and (max-width: @screen-sm-max) {
      margin-left:  0;
      margin-right: 0;
    }

    @media (min-width: @screen-md-min) {
      .flex-grid__item {
        max-width: ~"calc( 50% - @{_flex-gutter} )"; // 2-up
      }
    }
  }
}